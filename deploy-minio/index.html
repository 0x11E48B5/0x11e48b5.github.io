<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="What is MinIO?MinIO is a high-performance, S3-compatible object storage solution designed for private cloud, hybrid cloud, and edge computing environments. It provides a scalable, distributed architec">
<meta property="og:type" content="article">
<meta property="og:title" content="Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage">
<meta property="og:url" content="https://0x11e48b5.github.io/deploy-minio/index.html">
<meta property="og:site_name" content="Cyber Security with R&amp;D perspective">
<meta property="og:description" content="What is MinIO?MinIO is a high-performance, S3-compatible object storage solution designed for private cloud, hybrid cloud, and edge computing environments. It provides a scalable, distributed architec">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://0x11e48b5.github.io/deploy-minio/block-order.jpg">
<meta property="article:published_time" content="2025-03-24T13:30:10.000Z">
<meta property="article:modified_time" content="2025-03-24T12:58:32.850Z">
<meta property="article:author" content="11E48B5">
<meta property="article:tag" content="devops">
<meta property="article:tag" content="minio">
<meta property="article:tag" content="architecture">
<meta property="article:tag" content="object storage">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://0x11e48b5.github.io/deploy-minio/block-order.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/building-container-images/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://0x11e48b5.github.io/deploy-minio/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://0x11e48b5.github.io/deploy-minio/&text=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://0x11e48b5.github.io/deploy-minio/&is_video=false&description=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage&body=Check out this article: https://0x11e48b5.github.io/deploy-minio/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://0x11e48b5.github.io/deploy-minio/&name=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://0x11e48b5.github.io/deploy-minio/&t=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-MinIO"><span class="toc-number">1.</span> <span class="toc-text">What is MinIO?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Object-Storage"><span class="toc-number">1.1.</span> <span class="toc-text">What is Object Storage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MinIO-Deployment-Types"><span class="toc-number">1.2.</span> <span class="toc-text">MinIO Deployment Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#General-Prerequisites-for-Better-Performance"><span class="toc-number">1.2.1.</span> <span class="toc-text">General Prerequisites for Better Performance</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-MinIO"><span class="toc-number">1.3.</span> <span class="toc-text">Install MinIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-the-MinIO-Binary-on-Each-Node"><span class="toc-number">1.3.1.</span> <span class="toc-text">Install the MinIO Binary on Each Node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-folders-and-mount-disks-to-these-folders"><span class="toc-number">1.3.2.</span> <span class="toc-text">Create folders and mount disks to these folders</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-etc-fstab-to-mount-disks-persistently"><span class="toc-number">1.3.3.</span> <span class="toc-text">Create &#x2F;etc&#x2F;fstab to mount disks persistently</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Give-local-dns-name-for-nodes-IPs"><span class="toc-number">1.3.4.</span> <span class="toc-text">Give local dns name for nodes IPs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-folder-in-all-disks-with-minio-name"><span class="toc-number">1.3.5.</span> <span class="toc-text">Create folder in all disks with minio name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-systemd-service"><span class="toc-number">1.3.6.</span> <span class="toc-text">Create systemd service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-the-Service-Environment-File"><span class="toc-number">1.3.7.</span> <span class="toc-text">Create the Service Environment File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Enable-and-start-service"><span class="toc-number">1.3.8.</span> <span class="toc-text">Enable and start service</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Final-Thoughts"><span class="toc-number">2.</span> <span class="toc-text">Final Thoughts</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">11E48B5</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-03-24T13:30:10.000Z" class="dt-published" itemprop="datePublished">2025-03-24</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/architecture/" rel="tag">architecture</a>, <a class="p-category" href="/tags/devops/" rel="tag">devops</a>, <a class="p-category" href="/tags/minio/" rel="tag">minio</a>, <a class="p-category" href="/tags/object-storage/" rel="tag">object storage</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="What-is-MinIO"><a href="#What-is-MinIO" class="headerlink" title="What is MinIO?"></a>What is MinIO?</h1><p>MinIO is a high-performance, S3-compatible <code>object storage solution</code> designed for private cloud, hybrid cloud, and edge computing environments. It provides a scalable, distributed architecture for storing large amounts of unstructured data such as images, videos, backups, and log files.</p>
<p>MinIO was designed from the beginning to be a fully compatible alternative to Amazon’s S3 storage API. They claim to be the most compatible S3 alternative while also providing comparable performance and scalability MinIO also <strong>provides a variety of deployment</strong> options. It can run as a <code>native application</code> on most popular architectures and can also be deployed as a <code>containerized application</code> using Docker or Kubernetes.</p>
<p>Additionally, MinIO is open-source software. Organizations are free to use it under the terms of the AGPLv3 license. Just beware that this option comes with no support aside from online documentation and the MinIO user community. For larger enterprises, paid subscriptions with dedicated support are also available.</p>
<h2 id="What-is-Object-Storage"><a href="#What-is-Object-Storage" class="headerlink" title="What is Object Storage"></a>What is Object Storage</h2><p>Object storage is a data storage architecture that manages data as objects rather than as files (file storage) or blocks (block storage). It is designed for scalability, durability, and easy retrieval, making it ideal for storing large amounts of unstructured data like images, videos, backups, logs, and analytics data.</p>
<p>The concept of object storage is similar to that of a standard Unix file system, but instead of directories and files, we use buckets and objects. In traditional file system, you can think <code>directories as buckets</code> and <code>files</code> inside of those directories <code>as objects.</code></p>
<img src="/deploy-minio/block-order.jpg" class="">

<h2 id="MinIO-Deployment-Types"><a href="#MinIO-Deployment-Types" class="headerlink" title="MinIO Deployment Types"></a>MinIO Deployment Types</h2><p>There are 3 types of deployment types available for MinIO;</p>
<ul>
<li><strong>Single Node Single Drive (SNSD)</strong><ul>
<li>SNSD deployments use a zero-parity erasure coded backend that provides no added reliability or availability beyond what the underlying storage volume implements. These deployments are best suited for local testing and evaluation, or for small-scale data workloads that do not have availability or performance requirements.</li>
</ul>
</li>
<li><strong>Single Node Multi Drive (SNMD)</strong><ul>
<li>SNMD deployments provide drive-level reliability and failover&#x2F;recovery with performance and scaling limitations imposed by the single node.</li>
</ul>
</li>
<li><strong>Multi Node Multi Drive (MNMD) - For Production</strong><ul>
<li>MNMD deployments support erasure coding configurations which tolerate the loss of up to half the nodes or drives in the deployment while continuing to serve read operations. Use the MinIO Erasure Code Calculator when planning and designing your MinIO deployment to explore the effect of erasure code settings on your intended topology.</li>
</ul>
</li>
</ul>
<h3 id="General-Prerequisites-for-Better-Performance"><a href="#General-Prerequisites-for-Better-Performance" class="headerlink" title="General Prerequisites for Better Performance"></a>General Prerequisites for Better Performance</h3><ol>
<li><strong>Use Local Storage</strong><ul>
<li>Direct-Attached Storage (DAS) has significant performance and consistency advantages over networked storage (NAS, SAN, NFS). MinIO strongly recommends flash storage (NVMe, SSD) for primary or “hot” data.</li>
</ul>
</li>
<li><strong>Use XFS-Formatting for Drives</strong><ul>
<li>MinIO strongly recommends provisioning XFS formatted drives for storage. MinIO uses XFS as part of internal testing and validation suites, providing additional confidence in performance and behavior at all scales. MinIO does not test nor recommend any other filesystem, such as EXT4, BTRFS, or ZFS.</li>
</ul>
</li>
<li><strong>Use Consistent Type of Drive</strong><ul>
<li>MinIO does not distinguish drive types and does not benefit from mixed storage types. Each pool must use the same type (NVMe, SSD). For example, deploy a pool consisting of only NVMe drives. If you deploy some drives as SSD or HDD, MinIO treats those drives identically to the NVMe drives. This can result in performance issues, as some drives have differing or worse read&#x2F;write characteristics and cannot respond at the same rate as the NVMe drives.</li>
</ul>
</li>
</ol>
<blockquote>
<p>MinIO recommends a minimum of 32GiB of memory per host. See Memory for more guidance on memory allocation in MinIO.</p>
</blockquote>
<h2 id="Install-MinIO"><a href="#Install-MinIO" class="headerlink" title="Install MinIO"></a>Install MinIO</h2><p>In this tutorial we will teach how to install minIO for Ubuntu&#x2F;Linux systems. Use one of the following options to download the MinIO server installation file for a machine running Linux on an Intel or AMD 64-bit processor.</p>
<h3 id="Install-the-MinIO-Binary-on-Each-Node"><a href="#Install-the-MinIO-Binary-on-Each-Node" class="headerlink" title="Install the MinIO Binary on Each Node"></a>Install the MinIO Binary on Each Node</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.min.io/server/minio/release/linux-amd64/archive/minio_20250228095516.0.0_amd64.deb -O minio.deb</span><br><span class="line"></span><br><span class="line">sudo dpkg -i minio.deb</span><br></pre></td></tr></table></figure>

<h3 id="Create-folders-and-mount-disks-to-these-folders"><a href="#Create-folders-and-mount-disks-to-these-folders" class="headerlink" title="Create folders and mount disks to these folders"></a>Create folders and mount disks to these folders</h3><p>In this example i’ll create 4 folders in “&#x2F;mnt” folder. Also i’ve 4 seperate NVMe SSD Disks that attached to my machine. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /mnt/disk1 /mnt/disk2 /mnt/disk3 /mnt/disk4</span><br></pre></td></tr></table></figure>

<h3 id="Create-etc-fstab-to-mount-disks-persistently"><a href="#Create-etc-fstab-to-mount-disks-persistently" class="headerlink" title="Create &#x2F;etc&#x2F;fstab to mount disks persistently"></a>Create &#x2F;etc&#x2F;fstab to mount disks persistently</h3><p>Before adding, we recommend you to format you disks in XFS format. Here is an example for one disk. Do this steps for each disks.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.xfs /dev/sdb -L DISK1</span><br></pre></td></tr></table></figure>
<p>You should add your disks like below.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/fstab: static file system information.</span></span><br><span class="line">LABEL=DISK1     /mnt/disk1      xfs     defaults,noatime 0 2</span><br><span class="line">LABEL=DISK2     /mnt/disk2      xfs     defaults,noatime 0 2</span><br><span class="line">LABEL=DISK3     /mnt/disk3      xfs     defaults,noatime 0 2</span><br><span class="line">LABEL=DISK4     /mnt/disk4      xfs     defaults,noatime 0 2</span><br></pre></td></tr></table></figure>
<h3 id="Give-local-dns-name-for-nodes-IPs"><a href="#Give-local-dns-name-for-nodes-IPs" class="headerlink" title="Give local dns name for nodes IPs"></a>Give local dns name for nodes IPs</h3><p>Open your <code>/etc/hosts</code> folder and write like this.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.10 minio1.&lt;your-org-name&gt;.net</span><br><span class="line">192.168.10.11 minio2.&lt;your-org-name&gt;.net</span><br></pre></td></tr></table></figure>

<h3 id="Create-folder-in-all-disks-with-minio-name"><a href="#Create-folder-in-all-disks-with-minio-name" class="headerlink" title="Create folder in all disks with minio name"></a>Create folder in all disks with minio name</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mnt/disk1/minio</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/disk2/minio</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/disk3/minio</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/disk4/minio</span><br></pre></td></tr></table></figure>

<h3 id="Create-systemd-service"><a href="#Create-systemd-service" class="headerlink" title="Create systemd service"></a>Create systemd service</h3><p>The <code>.deb</code> or <code>.rpm</code> packages install the following systemd service file to &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;minio.service. For binary installations, create this file manually on all MinIO hosts.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=MinIO</span><br><span class="line">Documentation=https://min.io/docs/minio/linux/index.html</span><br><span class="line">Wants=network-online.target</span><br><span class="line">After=network-online.target</span><br><span class="line">AssertFileIsExecutable=/usr/local/bin/minio</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">WorkingDirectory=/usr/local</span><br><span class="line"></span><br><span class="line">User=minio-user</span><br><span class="line">Group=minio-user</span><br><span class="line">ProtectProc=invisible</span><br><span class="line"></span><br><span class="line">EnvironmentFile=-/etc/default/minio</span><br><span class="line">ExecStartPre=/bin/bash -c <span class="string">&quot;if [ -z \&quot;<span class="variable">$&#123;MINIO_VOLUMES&#125;</span>\&quot; ]; then echo \&quot;Variable MINIO_VOLUMES not set in /etc/default/minio\&quot;; exit 1; fi&quot;</span></span><br><span class="line">ExecStart=/usr/local/bin/minio server <span class="variable">$MINIO_OPTS</span> <span class="variable">$MINIO_VOLUMES</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MinIO RELEASE.2023-05-04T21-44-30Z adds support for Type=notify (https://www.freedesktop.org/software/systemd/man/systemd.service.html#Type=)</span></span><br><span class="line"><span class="comment"># This may improve systemctl setups where other services use `After=minio.server`</span></span><br><span class="line"><span class="comment"># Uncomment the line to enable the functionality</span></span><br><span class="line"><span class="comment"># Type=notify</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Let systemd restart this service always</span></span><br><span class="line">Restart=always</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies the maximum file descriptor number that can be opened by this process</span></span><br><span class="line">LimitNOFILE=65536</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies the maximum number of threads this process can create</span></span><br><span class="line">TasksMax=infinity</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable timeout logic and wait until process is stopped</span></span><br><span class="line">TimeoutStopSec=infinity</span><br><span class="line">SendSIGKILL=no</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># Built for $&#123;project.name&#125;-$&#123;project.version&#125; ($&#123;project.name&#125;)</span></span><br></pre></td></tr></table></figure>

<p>The minio.service file runs as the minio-user User and Group by default. You can create the user and group using the groupadd and useradd commands. </p>
<p>The following example creates the user, group, and sets permissions to access the folder paths intended for use by MinIO. These commands typically require root (sudo) permissions.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">groupadd -r minio-user</span><br><span class="line">useradd -M -r -g minio-user minio-user</span><br><span class="line"><span class="built_in">chown</span> -R minio-user:minio-user /mnt/disk1 /mnt/disk2 /mnt/disk3 /mnt/disk4</span><br></pre></td></tr></table></figure>

<h3 id="Create-the-Service-Environment-File"><a href="#Create-the-Service-Environment-File" class="headerlink" title="Create the Service Environment File"></a>Create the Service Environment File</h3><p>Create an environment file at <code>/etc/default/minio</code>. The MinIO service uses this file as the source of all environment variables used by MinIO and the minio.service file.</p>
<p>The following examples assumes that:</p>
<ul>
<li>You have 2 successfully installed ubuntu node.</li>
<li>All hosts have four locally-attached drives with sequential mount-points:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Set the hosts and volumes MinIO uses at startup</span></span><br><span class="line"><span class="comment"># The command uses MinIO expansion notation &#123;x...y&#125; to denote a</span></span><br><span class="line"><span class="comment"># sequential series.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following example covers four MinIO hosts</span></span><br><span class="line"><span class="comment"># with 4 drives each at the specified hostname and drive locations.</span></span><br><span class="line"><span class="comment"># The command includes the port that each MinIO server listens on</span></span><br><span class="line"><span class="comment"># (default 9000)</span></span><br><span class="line"></span><br><span class="line">MINIO_VOLUMES=<span class="string">&quot;https://minio&#123;1...2&#125;.example.net:9000/mnt/disk&#123;1...4&#125;/minio&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set all MinIO server options</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following explicitly sets the MinIO Console listen address to</span></span><br><span class="line"><span class="comment"># port 9001 on all network interfaces. The default behavior is dynamic</span></span><br><span class="line"><span class="comment"># port selection.</span></span><br><span class="line"></span><br><span class="line">MINIO_OPTS=<span class="string">&quot;--console-address :9001&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the root username. This user has unrestricted permissions to</span></span><br><span class="line"><span class="comment"># perform S3 and administrative API operations on any resource in the</span></span><br><span class="line"><span class="comment"># deployment.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Defer to your organizations requirements for superadmin user name.</span></span><br><span class="line"></span><br><span class="line">MINIO_ROOT_USER=minioadmin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the root password</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Use a long, random, unique string that meets your organizations</span></span><br><span class="line"><span class="comment"># requirements for passwords.</span></span><br><span class="line"></span><br><span class="line">MINIO_ROOT_PASSWORD=CHANGEME</span><br></pre></td></tr></table></figure>

<h3 id="Enable-and-start-service"><a href="#Enable-and-start-service" class="headerlink" title="Enable and start service"></a>Enable and start service</h3><p>After that we need to enable and start our service.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> minio.service</span><br><span class="line">sudo systemctl start minio.service</span><br></pre></td></tr></table></figure>

<h1 id="Final-Thoughts"><a href="#Final-Thoughts" class="headerlink" title="Final Thoughts"></a>Final Thoughts</h1><p>MinIO is a powerful, high-performance, and scalable object storage solution that seamlessly integrates into modern cloud-native and on-premises environments. Whether you’re looking for a simple standalone setup for development or a highly available, distributed storage cluster for production, MinIO provides the flexibility to meet your needs. Its S3-compatible API, lightweight architecture, and ability to run on commodity hardware make it a compelling choice for organizations of all sizes.</p>
<p>As data continues to grow exponentially, having a reliable and scalable object storage solution is more important than ever. MinIO not only simplifies storage management but also ensures high availability, data integrity, and security. If you’re looking for an efficient, open-source alternative to traditional cloud storage, MinIO is definitely worth considering.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-MinIO"><span class="toc-number">1.</span> <span class="toc-text">What is MinIO?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Object-Storage"><span class="toc-number">1.1.</span> <span class="toc-text">What is Object Storage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MinIO-Deployment-Types"><span class="toc-number">1.2.</span> <span class="toc-text">MinIO Deployment Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#General-Prerequisites-for-Better-Performance"><span class="toc-number">1.2.1.</span> <span class="toc-text">General Prerequisites for Better Performance</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-MinIO"><span class="toc-number">1.3.</span> <span class="toc-text">Install MinIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-the-MinIO-Binary-on-Each-Node"><span class="toc-number">1.3.1.</span> <span class="toc-text">Install the MinIO Binary on Each Node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-folders-and-mount-disks-to-these-folders"><span class="toc-number">1.3.2.</span> <span class="toc-text">Create folders and mount disks to these folders</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-etc-fstab-to-mount-disks-persistently"><span class="toc-number">1.3.3.</span> <span class="toc-text">Create &#x2F;etc&#x2F;fstab to mount disks persistently</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Give-local-dns-name-for-nodes-IPs"><span class="toc-number">1.3.4.</span> <span class="toc-text">Give local dns name for nodes IPs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-folder-in-all-disks-with-minio-name"><span class="toc-number">1.3.5.</span> <span class="toc-text">Create folder in all disks with minio name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-systemd-service"><span class="toc-number">1.3.6.</span> <span class="toc-text">Create systemd service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-the-Service-Environment-File"><span class="toc-number">1.3.7.</span> <span class="toc-text">Create the Service Environment File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Enable-and-start-service"><span class="toc-number">1.3.8.</span> <span class="toc-text">Enable and start service</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Final-Thoughts"><span class="toc-number">2.</span> <span class="toc-text">Final Thoughts</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://0x11e48b5.github.io/deploy-minio/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://0x11e48b5.github.io/deploy-minio/&text=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://0x11e48b5.github.io/deploy-minio/&is_video=false&description=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage&body=Check out this article: https://0x11e48b5.github.io/deploy-minio/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://0x11e48b5.github.io/deploy-minio/&title=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://0x11e48b5.github.io/deploy-minio/&name=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://0x11e48b5.github.io/deploy-minio/&t=Setting Up MinIO in Multi-Node Mode for Redundant and Scalable Storage"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    11E48B5
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
